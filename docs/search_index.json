[["index.html", "ç°ä»£ç²¾ç®—ç»Ÿè®¡æ¨¡å‹ ğŸ‘¨ğŸ« æ¬¢è¿ ğŸ¤” ç­”ç–‘ ğŸ—“ï¸ è¯¾ç¨‹å®‰æ’", " ç°ä»£ç²¾ç®—ç»Ÿè®¡æ¨¡å‹ Modern Actuarial Models 2020-11-17 00:10:29 ğŸ‘¨ğŸ« æ¬¢è¿ ã€Šç°ä»£ç²¾ç®—ç»Ÿè®¡æ¨¡å‹ã€‹ä¸»è¦è®²è¿°å¦‚ä½•ä½¿ç”¨ç»Ÿè®¡å­¦ä¹ å’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæå‡ä¼ ç»Ÿçš„ç²¾ç®—ç»Ÿè®¡æ¨¡å‹æˆ–è€…è§£å†³æ–°çš„ç²¾ç®—é—®é¢˜ã€‚è¿™é—¨è¯¾ä¸»è¦å‚è€ƒç‘å£«ç²¾ç®—å¸ˆåä¼šå‘å¸ƒçš„â€œç²¾ç®—æ•°æ®ç§‘å­¦â€ï¼Œè¯¥æ•™ç¨‹çš„ä¸»è¦ç›®çš„æ˜¯â€œä¸ºç²¾ç®—å¸ˆæä¾›ä¸€ä¸ªå¯¹æ•°æ®ç§‘å­¦å…¨é¢ä¸”æ˜“æ‡‚çš„ä»‹ç»â€ï¼Œè¯¥æ•™ç¨‹æä¾›äº†å¤šç¯‡æ–¹æ³•æ€§æ–‡ç« å¹¶å¼€æºä»£ç ï¼Œè¿™æ ·â€œè¯»è€…å¯ä»¥ç›¸å¯¹å®¹æ˜“åœ°æŠŠè¿™äº›æ•°æ®ç§‘å­¦æ–¹æ³•ç”¨åœ¨è‡ªå·±çš„æ•°æ®ä¸Šâ€ã€‚ æˆ‘ä»¬å¼ºçƒˆå»ºè®®å¤§å®¶ä»”ç»†é˜…è¯»ä»¥ä¸‹æ–‡çŒ®ï¼Œå°è¯•å¹¶ç†è§£æ‰€æœ‰ä»£ç ã€‚æ­¤ç½‘ç«™å°†ä½œä¸ºè¯¥è¯¾ç¨‹çš„è¾…åŠ©ï¼Œä¸ºå¤§å®¶ç­”ç–‘ï¼Œæ€»ç»“æ–‡çŒ®ï¼Œå¹¶å¯¹æ–‡çŒ®ä¸­çš„æ–¹æ³•åšæ‰©å±•ã€‚è¯¥ç½‘ç«™ç”±æˆè¯¾è€å¸ˆé«˜å…‰è¿œå’ŒåŠ©æ•™å¼ ç®é’°ç®¡ç†ï¼Œæ¬¢è¿å¤§å®¶åé¦ˆæ„è§åˆ°åŠ©æ•™ã€å¾®ä¿¡ç¾¤ã€æˆ–é‚®ç®± guangyuan.gao@ruc.edu.cnã€‚ ğŸ¤” ç­”ç–‘ æˆ‘å®šæœŸæŠŠåŒå­¦ä»¬çš„æ™®éç–‘é—®åœ¨è¿™é‡Œè§£ç­”ï¼Œæ¬¢è¿æé—®ï¼ ğŸ‘‰ MAC OS, Linux, WIN (2020/11/16) æ®è§‚å¯Ÿï¼Œåœ¨MAC OSå’ŒLinuxç³»ç»Ÿä¸‹å®‰è£…kerasæˆåŠŸçš„æ¯”ä¾‹è¾ƒé«˜ã€‚WINç³»ç»Ÿä¸‹ï¼ŒPythonå„ä¸ªåŒ…çš„ä¾èµ–ä»¥åŠå’ŒRåŒ…çš„åŒ¹é…æœ‰ä¸€å®šçš„é—®é¢˜ï¼Œä»Šå¤©æ˜¯é€šè¿‡æ›´æ¢é•œåƒæºè§£å†³äº†Rä¸­æ— æ³•åŠ è½½tensorflow.kerasæ¨¡å—çš„é—®é¢˜ï¼Œæ¨æµ‹æ˜¯TUNAæºä¸­WINåŒ…ä¾èµ–å…³ç³»æ²¡æœ‰åŠæ—¶æ›´æ–°ã€‚ ä¸ºäº†è§£å†³é•œåƒæºæ›´æ–°å»¶è¿Ÿã€æˆ–è€…tensorflowç‰ˆæœ¬è¿‡ä½çš„é—®é¢˜ï¼Œè¿™é‡Œå…±äº«WINä¸‹ç»æµ‹è¯•çš„condaç¯å¢ƒé…ç½®ã€‚ä¸‹è½½è¯¥æ–‡æ¡£ï¼Œä»è¯¥æ–‡æ¡£æ‰€åœ¨æ–‡ä»¶å¤¹å¯åŠ¨å‘½ä»¤è¡Œï¼Œä½¿ç”¨å‘½ä»¤conda create --name &lt;env&gt; --file filename.txtï¼Œå®‰è£…è¯¥condaç¯å¢ƒã€‚åœ¨Rä¸­ä½¿ç”¨reticulate::use_condaenv(\"&lt;env&gt;\",required=T)å…³è”è¯¥ç¯å¢ƒã€‚ å¦å¤–ï¼Œå¯ä¸‹è½½MAC OSç³»ç»Ÿä¸‹ç»æµ‹è¯•çš„condaç¯å¢ƒé…ç½®ï¼Œå’ŒPyPIåŒ…é…ç½®ã€‚å¯é€šè¿‡conda env create -n &lt;env&gt; --file filename.yamlå’Œpip install -r filename.txtå®‰è£…ã€‚ ğŸ‘‰ CASdatasets (2020/11/13) æºæ–‡ä»¶åœ¨http://cas.uqam.ca/ï¼Œä½†ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œæˆ‘æŠŠå®ƒæ”¾åœ¨åšæœäº‘å…±äº«ã€‚ä¸‹è½½åé€‰æ‹©install from local archive fileã€‚ ğŸ‘‰ å¾®ä¿¡ç¾¤ (2020/11/08) ğŸ—“ï¸ è¯¾ç¨‹å®‰æ’ ä»¥ä¸‹å®‰æ’ä¸ºåˆæ­¥è®¡åˆ’ï¼Œæ ¹æ®å¤§å®¶çš„éœ€æ±‚å’ŒèƒŒæ™¯ï¼Œæˆ‘ä»¬å¯èƒ½è¦èŠ±æ›´å¤šçš„æ—¶é—´åœ¨æŸäº›é‡è¦çš„æ–¹æ³•åŠå…¶åœ¨ç²¾ç®—ä¸Šçš„åº”ç”¨ã€‚ ç¬¬9å‘¨ï¼š å‡†å¤‡å·¥ä½œã€‚ ç¬¬10å‘¨: 1 - French Motor Third-Party Liability Claims https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3164764 ç¬¬11å‘¨: 2 - Inisghts from Inside Neural Networks https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3226852 3 - Nesting Classical Actuarial Models into Neural Networks https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3320525 ç¬¬12å‘¨ï¼š 4 - On Boosting: Theory and Applications https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3402687 ç¬¬13å‘¨ï¼š 5 - Unsupervised Learning: What is a Sports Car https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3439358 ç¬¬14å‘¨ï¼š 6 - Lee and Carter go Machine Learning: Recurrent Neural Networks https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3441030 ç¬¬15å‘¨ï¼š 7 - The Art of Natural Language Processing: Classical, Modern and Contemporary Approaches to Text Document Classification https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3547887 ç¬¬16å‘¨ï¼š 8 - Peeking into the Black Box: An Actuarial Case Study for Interpretable Machine Learning https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3595944 ç¬¬17å‘¨ï¼š 9 - Convolutional neural network case studies: (1) Anomalies in Mortality Rates (2) Image Recognition https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3656210 "],["ch0.html", "å‡†å¤‡å·¥ä½œ 0.1 å…‹éš†ä»£ç  0.2 å»ºç«‹ç¯å¢ƒ", " å‡†å¤‡å·¥ä½œ â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚â€ å‡†å¤‡å·¥ä½œä¸­å¸¸ç”¨çš„é“¾æ¥æœ‰ GitHub Git SSH key GitHub and RStudio Jupyter Notebook Anaconda Miniconda å¸¸ç”¨Condaå‘½ä»¤ TUNAé•œåƒæº R interface to Tensorflow and Keras reticulate Tensorflow Pytorch æ ¡çº§è®¡ç®—äº‘ CUDA cuDNN 0.1 å…‹éš†ä»£ç  GitHubæä¾›äº†å¤§é‡å¼€æºä»£ç ï¼Œè¿™é—¨è¯¾çš„ä»£ç ä¸»è¦æ¥è‡ªæ­¤é“¾æ¥ã€‚é€šå¸¸ï¼Œä½¿ç”¨GitHubå¼€æºä»£ç æœ€æ–¹ä¾¿çš„æ˜¯forkåˆ°è‡ªå·±GitHubè´¦æˆ·ä¸‹ï¼Œç„¶åcloneåˆ°æœ¬åœ°ã€‚å…·ä½“è€Œè¨€ï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š æ³¨å†ŒGitHubè´¦æˆ·ã€‚ Forkæ­¤é“¾æ¥åˆ°è‡ªå·±è´¦æˆ·ä¸‹çš„æ–°ä»“åº“,å¯é‡æ–°å‘½åä¸ºå¦‚Modern-Actuarial-Modelsæˆ–å…¶ä»–åç§°ã€‚ å®‰è£…gitã€‚åœ¨å‘½ä»¤çª—å£ä½¿ç”¨$ git config --global user.name \"Your Name\" å’Œ $ git config --global user.email \"youremail@yourdomain.com\" é…ç½®gitçš„ç”¨æˆ·åå’Œé‚®ç®±åˆ†åˆ«ä¸ºGitHubè´¦æˆ·çš„ç”¨æˆ·åå’Œé‚®ç®±ã€‚æœ€åå¯ä½¿ç”¨$ git config --listæŸ¥çœ‹é…ç½®ä¿¡æ¯ã€‚ (é€‰åš)åœ¨æœ¬åœ°ç”µè„‘åˆ›å»ºssh public keyï¼Œå¹¶æ‹·è´åˆ°GitHubä¸­Settingä¸‹SSH and GPG keysã€‚ssh public keyä¸€èˆ¬ä¿å­˜åœ¨æœ¬äººç›®å½•ä¸‹çš„éšè—æ–‡ä»¶å¤¹.sshä¸­ï¼Œæ‰©å±•åä¸º.pubã€‚è¯¦è§é“¾æ¥ã€‚è®¾ç«‹SSHå¯ä»¥é¿å…åç»­pushä»£ç åˆ°äº‘ç«¯æ—¶ï¼Œæ¯æ¬¡éƒ½éœ€è¦è¾“å…¥å¯†ç çš„éº»çƒ¦ ç”µè„‘è¿æ¥æ‰‹æœº4Gçƒ­ç‚¹ã€‚ä¸€èˆ¬åœ°ï¼Œåœ¨æ‰‹æœº4Gç½‘ç»œä¸‹å…‹éš†çš„é€Ÿåº¦æ¯”è¾ƒå¿«ã€‚ åœ¨RStudioä¸­åˆ›å»ºæ–°çš„é¡¹ç›®ï¼Œé€‰æ‹©Version Controlï¼Œç„¶åGitï¼Œåœ¨Repository URLä¸­è¾“å…¥ä½ çš„GitHubä¸­åˆšæ‰forkçš„æ–°ä»“åº“åœ°å€ï¼ˆåœ¨Codeä¸‹èƒ½æ‰¾åˆ°å…‹éš†åœ°å€ï¼Œå¦‚æœç¬¬4æ­¥å®Œæˆå¯ä»¥é€‰æ‹©SSHåœ°å€ï¼Œå¦‚æœç¬¬4æ­¥æ²¡å®Œæˆå¿…é¡»é€‰æ‹©HTTPSåœ°å€ï¼‰ï¼Œè¾“å…¥æ–‡ä»¶å¤¹åç§°ï¼Œé€‰æ‹©å­˜æ”¾ä½ç½®ï¼Œç‚¹å‡»create projectï¼ŒRStudioå¼€å§‹å…‹éš†GitHubä¸Šè¯¥ä»“åº“çš„æ‰€æœ‰å†…å®¹ã€‚ æ­¤æ—¶ï¼Œä½ åœ¨GitHubä¸Šä»“åº“çš„å†…å®¹å…¨éƒ¨å…‹éš†åˆ°äº†æœ¬åœ°ï¼Œä¸”æ”¾åœ¨äº†ä¸€ä¸ªR Projectä¸­ã€‚åœ¨è¯¥Projectä¸­ï¼Œä¼šå¤šä¸¤ä¸ªæ–‡ä»¶ï¼Œ.Rprojå’Œ.gitignoreï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶ä¿å­˜äº†Projectçš„è®¾ç½®ï¼Œç¬¬äºŒæ–‡ä»¶å‘Šè¯‰gitåœ¨pushæœ¬åœ°æ–‡ä»¶åˆ°GitHubæ—¶å“ªäº›æ–‡ä»¶è¢«å¿½ç•¥ã€‚ å¦‚æœä½ ä¿®æ”¹äº†æœ¬åœ°æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡Rä¸­å†…åµŒçš„Gitä¸Šä¼ åˆ°GitHubï¼ˆå…ˆcommitå†pushï¼‰ï¼Œè¿™æ ·æ–¹ä¾¿åœ¨ä¸åŒç”µè„‘ä¸ŠåŒæ­¥æ–‡ä»¶ã€‚gitæ˜¯ä»£ç ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œåœ¨pushä¹‹å‰ï¼Œä½ å¯ä»¥æ¯”è¾ƒå’Œä¸Šä¸ªä»£ç ç‰ˆæœ¬çš„å·®å¼‚ã€‚GitHubè®°å½•äº†ä½ æ¯æ¬¡pushçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¸”å­˜æ”¾åœ¨æœ¬åœ°æ–‡ä»¶å¤¹.gitä¸­ã€‚åŒæ—¶ï¼Œå¦‚æœGitHubä¸Šä»£ç æœ‰å˜åŒ–ï¼Œä½ å¯ä»¥pullåˆ°æœ¬åœ°ã€‚å¦‚æœç»å¸¸åœ¨ä¸åŒç”µè„‘ä¸Šä½¿ç”¨æœ¬ä»“åº“ï¼Œä¸€èˆ¬éœ€è¦å…ˆpullæˆæœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åå†ç¼–è¾‘ä¿®æ”¹ï¼Œæœ€åcommit-pushåˆ°GitHubã€‚ (é€‰åš) ä½ å¯ä»¥å»ºç«‹æ–°çš„branchï¼Œä½¿è‡ªå·±çš„ä¿®æ”¹å’Œæºä»£ç åˆ†å¼€ã€‚å…·ä½“æ“ä½œå¯å‚è€ƒé“¾æ¥ï¼Œæˆ–è€…å‚è€ƒè´¦æˆ·å»ºç«‹æ—¶è‡ªåŠ¨äº§ç”Ÿçš„getting-startedä»“åº“ã€‚ (é€‰åš) ä½ å¯ä»¥å°è¯•Github Desktopæˆ–è€…Jupyter Labï¼ˆåŠ è½½git extensionï¼‰ç®¡ç†ï¼Œä½†å¯¹äºè¿™é—¨è¯¾ï¼Œè¿™ä¸¤ç§æ–¹å¼ä¸æ˜¯æœ€ä¼˜ã€‚ ç†è®ºä¸Šï¼ŒGitHubä¸Šæ‰€æœ‰ä»“åº“éƒ½å¯ä»¥é‡‡ç”¨ä»¥ä¸Šæ–¹æ³•åœ¨RStudioä¸­ç®¡ç†ï¼Œå½“ç„¶ï¼ŒRStudioå¯¹äºRä»£ç ä»“åº“ç®¡ç†æœ€æœ‰æ•ˆï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨RStudioä¸­è¿è¡Œä»“åº“ä¸­çš„ä»£ç ã€‚ 0.2 å»ºç«‹ç¯å¢ƒ åœ¨ä»¥ä¸‹æ­¥éª¤ä¸­ï¼Œå½“ä½ å‘ç°å®‰è£…éå¸¸æ…¢æ—¶ï¼Œå¯ä»¥å°è¯•4Gç½‘ç»œï¼Œå°è¯•VPNï¼Œå°è¯•æ”¹å˜CRANçš„é•œåƒæºï¼Œæˆ–å°è¯•æ”¹å˜condaçš„é•œåƒæºã€‚condaé•œåƒæºé€šè¿‡ä¿®æ”¹ç”¨æˆ·ç›®å½•ä¸‹çš„.condarcæ–‡ä»¶ä½¿ç”¨TUNAé•œåƒæºï¼Œä½†è¯¥é•œåƒæºå¯èƒ½æœ‰æ›´æ–°å»¶è¿Ÿã€‚ 0.2.1 R interface to Keras è¿™é‡Œä¸»è¦è¯´æ˜kerasåŒ…çš„å®‰è£…å’Œä½¿ç”¨ã€‚Kerasæ˜¯tensorflowçš„APIï¼Œåœ¨kerasä¸­å»ºç«‹çš„ç¥ç»ç½‘ç»œæ¨¡å‹éƒ½ç”±tensorflowè®­ç»ƒã€‚å®‰è£…kerasåŒ…ä¸»è¦æ˜¯å®‰è£…Pythonåº“tensorflowï¼Œå¹¶è®©Rä¸ä¹‹ç›¸å…³è”ã€‚ 0.2.1.1 Rè‡ªåŠ¨å®‰è£… æœ€ç®€å•çš„å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š ä½¿ç”¨install.packages(\"tensorflow\")å®‰è£…æ‰€æœ‰ç›¸å…³çš„åŒ…ï¼Œç„¶ålibrary(\"tensorflow\")ã€‚ install_tensorflow() è¿™æ—¶å¤§æ¦‚ç‡ä¼šå‡ºç° No non-system installation of Python could be found. Would you like to download and install Miniconda? Miniconda is an open source environment management system for Python. See https://docs.conda.io/en/latest/miniconda.html for more details. Would you like to install Miniconda? [Y/n]: è™½ç„¶ä½ å¯èƒ½å·²ç»æœ‰Anacondaå’ŒPythonï¼Œä½†Ræ²¡æœ‰â€œæ™ºèƒ½â€åœ°è¯†åˆ«å‡ºæ¥ï¼Œè¿™æ—¶ä»å»ºè®®ä½ é€‰Yï¼Œè®©Rè‡ªå·±è£…ä¸€ä¸‹è‡ªå·±èƒ½æ›´å¥½è¯†åˆ«çš„Miniconda, è¿™ä¸ªå‘½ä»¤è¿˜ä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªç‹¬ç«‹condaç¯å¢ƒr-reticulateï¼Œå¹¶åœ¨å…¶ä¸­è£…å¥½tensorflow, kerasç­‰ã€‚ ä¸Šæ­¥å¦‚æœæ­£å¸¸è¿è¡Œï¼Œç»“æŸåä¼šè‡ªåŠ¨é‡å¯Rã€‚è¿™æ—¶ä½ è¿è¡Œlibrary(tensorflow)ç„¶åtf$constant(\"Hellow Tensorflow\")ï¼Œå¦‚æœæ²¡æŠ¥é”™ï¼Œé‚£ç»§ç»­install_packages(\"keras\"),library(\"keras\")ã€‚ ç”¨ä»¥ä¸‹ä»£ç éªŒè¯å®‰è£…æˆåŠŸ model &lt;- keras_model_sequential() %&gt;% layer_flatten(input_shape = c(28, 28)) %&gt;% layer_dense(units = 128, activation = &quot;relu&quot;) %&gt;% layer_dropout(0.2) %&gt;% layer_dense(10, activation = &quot;softmax&quot;) summary(model) å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯ é”™è¯¯: Installation of TensorFlow not found. Python environments searched for &#39;tensorflow&#39; package: C:\\Users\\...\\AppData\\Local\\r-miniconda\\envs\\r-reticulate\\python.exe You can install TensorFlow using the install_tensorflow() function. è¿™ä¸ªé”™è¯¯é€šå¸¸æ˜¯ç”±äºr-reticulateä¸­tensorflowå’Œå…¶ä»–åŒ…çš„ä¾èµ–å…³ç³»å‘ç”Ÿé”™è¯¯ï¼Œæˆ–è€…tensorflowç‰ˆæœ¬å¤ªä½ï¼Œä½ å¯ä»¥æ›´æ¢é•œåƒæºã€ä½¿ç”¨conda/pip installè°ƒæ•´è¯¥ç¯å¢ƒä¸­çš„tensorflowç‰ˆæœ¬å’Œä¾èµ–å…³ç³»ã€‚ æ›´å¥½çš„æ–¹å¼æ˜¯åœ¨condaä¸‹å®‰è£…å¥½æŒ‡å®šç‰ˆæœ¬çš„tensorflowç„¶åå…³è”åˆ°Rï¼Œæˆ–è€…ç”¨å…¶ä»–æ–¹å¼è®©Ræ‰¾åˆ°å…¶ä»–æ–¹å¼å®‰è£…çš„tensorflowã€‚è¿™æ—¶ï¼Œä½ å…ˆæŠŠä¹‹å‰å¤±è´¥çš„å®‰è£…C:\\Users\\...\\AppData\\Local\\r-minicondaï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å®Œå…¨åˆ æ‰ã€‚ç„¶åå‚è€ƒä»¥ä¸‹å®‰è£…æ­¥éª¤ã€‚ 0.2.1.2 ä½¿ç”¨reticulateå…³è”condaç¯å¢ƒ ä¸‹è½½å¹¶å®‰è£…Anacondaæˆ–è€…Minicondaã€‚ è¿è¡ŒAnaconda Promptæˆ–è€…Anaconda Powershell Promptï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥conda create -n r-tensorflow tensorflow=2.1.0ï¼Œcondaä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„r-tensorflowç¯å¢ƒï¼Œå¹¶åœ¨å…¶ä¸­å®‰è£…tensorflowåŒ…ã€‚ ç»§ç»­åœ¨å‘½ä»¤è¡Œè¿è¡Œconda activate r-tensorflowåŠ è½½åˆšåˆšå®‰è£…çš„ç¯å¢ƒï¼Œå¹¶pip install h5py pyyaml requests Pillow scipyåœ¨è¯¥ç¯å¢ƒä¸‹å®‰è£…kerasä¾èµ–çš„åŒ…ã€‚è‡³æ­¤ï¼ŒRéœ€è¦çš„tensorflowç¯å¢ƒå·²ç»å‡†å¤‡å¥½ï¼Œæ¥ä¸‹æ¥è®©Rå…³è”æ­¤ç¯å¢ƒã€‚ é‡å¯Rï¼Œlibrary(\"reticulate\")ç„¶åuse_condaenv(\"r-tensorflow\",required=T),è¿™æ—¶Rå°±å’Œä¸Šé¢å»ºç«‹çš„ç¯å¢ƒå…³è”å¥½ã€‚ library(\"kerasâ€œ)ã€‚è¿™é‡Œå‡è®¾ä½ å·²ç»è£…å¥½tensorflowå’ŒkerasåŒ…ã€‚ ç”¨ä»¥ä¸‹ä»£ç éªŒè¯å®‰è£…æˆåŠŸ model &lt;- keras_model_sequential() %&gt;% layer_flatten(input_shape = c(28, 28)) %&gt;% layer_dense(units = 128, activation = &quot;relu&quot;) %&gt;% layer_dropout(0.2) %&gt;% layer_dense(10, activation = &quot;softmax&quot;) summary(model) 0.2.1.3 æŒ‡å®šcondaå®‰è£… ä¸‹è½½å¹¶å®‰è£…Anacondaæˆ–è€…Minicondaã€‚ å‘½ä»¤è¡Œè¾“å…¥which -a pythonï¼Œæ‰¾åˆ°Anacondaä¸­Pythonçš„è·¯å¾„è®°ä¸ºanapyã€‚ Rä¸­install_packages(\"tensorflow\")ï¼Œç„¶å install_tensorflow(method = &quot;conda&quot;, conda = &quot;anapy&quot;, envname = &quot;r-tensorflow&quot;, version = &quot;2.1.0&quot;) æ­¤å‘½ä»¤ä¼šåœ¨condaä¸‹åˆ›å»ºr-tensorflowçš„ç¯å¢ƒå¹¶è£…å¥½tensorflowåŒ…ã€‚ install_packages(\"keras\"); library(\"keras\") ç”¨ä»¥ä¸‹ä»£ç éªŒè¯å®‰è£…æˆåŠŸ model &lt;- keras_model_sequential() %&gt;% layer_flatten(input_shape = c(28, 28)) %&gt;% layer_dense(units = 128, activation = &quot;relu&quot;) %&gt;% layer_dropout(0.2) %&gt;% layer_dense(10, activation = &quot;softmax&quot;) summary(model) 0.2.1.4 ä½¿ç”¨reticulateå®‰è£… é‡å¯Rï¼Œlibrary(\"reticulate\")ã€‚ options(timeout=300)ï¼Œé˜²æ­¢ä¸‹è½½æ—¶é—´è¿‡é•¿ä¸­æ–­ã€‚ install_miniconda()ï¼Œå°†ä¼šå®‰è£…minicondaå¹¶åˆ›å»ºä¸€ä¸ªr-reticulatecondaç¯å¢ƒã€‚æ­¤ç¯å¢ƒä¸ºRé»˜è®¤è°ƒç”¨çš„Pythonç¯å¢ƒã€‚ ï¼ˆé‡å¯Rï¼‰library(\"tensorflow\"); install_tensorflow(version=\"2.1.0\")ï¼Œå°†ä¼šåœ¨r-reticulateå®‰è£…tensorflowã€‚ install_packages(\"keras\"); library(\"keras\") ç”¨ä»¥ä¸‹ä»£ç éªŒè¯å®‰è£…æˆåŠŸ model &lt;- keras_model_sequential() %&gt;% layer_flatten(input_shape = c(28, 28)) %&gt;% layer_dense(units = 128, activation = &quot;relu&quot;) %&gt;% layer_dropout(0.2) %&gt;% layer_dense(10, activation = &quot;softmax&quot;) summary(model) 0.2.2 R interface to Python RåŒ…reticulateä¸ºtensorflowçš„ä¾èµ–åŒ…ï¼Œå½“ä½ è£…tensorflowå®ƒä¹Ÿè¢«è‡ªåŠ¨å®‰è£…ã€‚å®ƒå¯ä»¥å»ºç«‹Rä¸Pythonçš„äº¤äº’ã€‚ 0.2.2.1 reticulate å¸¸è§å‘½ä»¤ conda_list()åˆ—å‡ºå·²å®‰è£…çš„condaç¯å¢ƒ virtualenv_list()åˆ—å‡ºå·²å­˜åœ¨çš„è™šæ‹Ÿç¯å¢ƒ use_python, use_condaenv, use_virtualenvå¯ä»¥æŒ‡å®šä¸Rå…³è”çš„pythonã€‚ py_config()å¯ä»¥æŸ¥çœ‹å½“å‰Pythonå…³è”ä¿¡æ¯ã€‚ å¾ˆå¤šæ—¶å€™ï¼ŒRä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹condaç¯å¢ƒr-miniconda/envs/r-reticulateã€‚ 0.2.2.2 åˆ‡æ¢Rå…³è”çš„condaç¯å¢ƒ æ ¹æ®éœ€è¦ï¼Œä½ å¯ä»¥åˆ‡æ¢Rå…³è”çš„condaç¯å¢ƒã€‚å…·ä½“æ­¥éª¤ä¸º é‡å¯R library(\"reticulate\") conda_list()åˆ—å‡ºå¯ä»¥å…³è”çš„ç¯å¢ƒå’Œè·¯å¾„ã€‚ use_condaenv(\"env-name\")ã€‚env-nameä¸ºå…³è”çš„condaç¯å¢ƒã€‚ py_configæŸ¥çœ‹æ˜¯å¦å…³è”æˆåŠŸã€‚ 0.2.3 Python ä¸€èˆ¬åœ¨æ¯ä¸ªPythonï¼ˆCondaï¼‰ç¯å¢ƒéƒ½éœ€è¦å®‰è£…ä¸€ä¸ªJupyter Notebook (conda install notebook)ã€‚ 0.2.3.1 Condaç¯å¢ƒ Pythonï¼ˆcondaï¼‰ç¯å¢ƒå»ºç«‹æ¯”è¾ƒç®€å•ï¼Œåœ¨ä½¿ç”¨reticulateå…³è”condaç¯å¢ƒæˆ‘ä»¬å·²ç»å»ºç«‹è¿‡ä¸€ä¸ªç¯å¢ƒr-tensorflowã€‚å…·ä½“æ“ä½œå¦‚ä¸‹: å»ºç«‹ç‹¬ç«‹ç¯å¢ƒconda create -n env-name python=3.8 tensorflow=2.1.0 notebookã€‚è¯¥å‘½ä»¤ä¼šå»ºç«‹env-nameçš„ç¯å¢ƒï¼Œå¹¶åœ¨å…¶ä¸­å®‰è£…python=3.8,tensorflowï¼ŒnotebookåŒ…åŠå…¶ä¾èµ–åŒ…ã€‚ æ¿€æ´»ç¯å¢ƒconda activate env-name. cd åˆ°ä½ çš„å·¥ä½œç›®å½•ã€‚ å¯åŠ¨jupyter notebook jupyter notebookã€‚ å¦‚é‡åˆ°ç¼ºå°‘çš„åŒ…ï¼Œåœ¨è¯¥ç¯å¢ƒenv-nameä¸‹ä½¿ç”¨conda install ***å®‰è£…ç¼ºå°‘çš„åŒ…ã€‚ 0.2.3.2 å¸¸ç”¨çš„Condaå‘½ä»¤ conda create -n env-name2 --clone env-name1:å¤åˆ¶ç¯å¢ƒ conda env listï¼šåˆ—å‡ºæ‰€æœ‰ç¯å¢ƒ conda deactivateï¼šé€€å‡ºå½“å‰ç¯å¢ƒ conda remove -n env-name --allï¼šåˆ é™¤ç¯å¢ƒenv-nameä¸­çš„æ‰€æœ‰åŒ… conda list -n env-name: åˆ—å‡ºç¯å¢ƒenv-nameæ‰€å®‰è£…çš„åŒ… conda clean -pï¼šåˆ é™¤ä¸ä½¿ç”¨çš„åŒ… conda clean -tï¼šåˆ é™¤ä¸‹è½½çš„åŒ… conda clean -aï¼šåˆ é™¤æ‰€æœ‰ä¸å¿…è¦çš„åŒ… pip freeze &gt; pip_pkg.txt, pip install -r pip_pkg.txt ä¿å­˜å½“å‰ç¯å¢ƒPyPIåŒ…ç‰ˆæœ¬ï¼Œä»æ–‡ä»¶å®‰è£…PyPIåŒ… conda env export &gt; conda_pkg.yaml, conda env export -n env_name &gt; conda_pkg.yaml, conda env create -n env-name2 --file conda_pkg.yaml ä¿å­˜å½“å‰/env-nameç¯å¢ƒæ‰€æœ‰åŒ…ï¼Œä»æ–‡ä»¶å®‰è£…CondaåŒ… conda list --explicit &gt; spec-list.txt,conda list --export &gt; spec-list.txt, conda create --name env-name2 --file spec-list.txt ä¿å­˜å½“å‰ç¯å¢ƒCondaåŒ…åŠå…¶ä¸‹è½½åœ°å€ï¼ŒåŒç³»ç»Ÿä»æ–‡ä»¶å®‰è£…CondaåŒ… 0.2.3.3 Tensorflow/Pytorch GPU version Tensorflowå¯ä»¥ç»¼åˆä½¿ç”¨CPUå’ŒGPUè¿›è¡Œè®¡ç®—ï¼ŒGPUçš„ç¡¬ä»¶ç»“æ„é€‚è¿›è¡Œå·ç§¯è¿ç®—ï¼Œæ‰€ä»¥é€‚äºCNNï¼ŒRNNç­‰æ¨¡å‹çš„æ±‚è§£ã€‚ ä½ å¯ä»¥ç”³è¯·ä½¿ç”¨æ ¡çº§è®¡ç®—äº‘æˆ–è€…ä½¿ç”¨å­¦é™¢è®¡ç®—äº‘ï¼Œå®ƒä»¬çš„æœåŠ¡å™¨éƒ½é…ç½®äº†GPUï¼Œå¹¶è£…å¥½äº†å¯ä»¥ä½¿ç”¨GPUçš„Tensorflowæˆ–è€…Pytorchã€‚ä½¿ç”¨æ ¡çº§è®¡ç®—äº‘æ—¶ï¼Œä½ é€šå¸¸åªéœ€è¦è¿è¡ŒJupyter Notebookå°±å¯ä»¥ä½¿ç”¨äº‘ç«¯GPUè¿›è¡Œè®¡ç®—ã€‚ä½¿ç”¨å­¦é™¢è®¡ç®—äº‘æ—¶ï¼Œä½ é€šå¸¸éœ€è¦çŸ¥é“ä¸€äº›å¸¸ç”¨çš„Linuxå‘½ä»¤ï¼Œä½ ä¹Ÿå¯ä»¥å®‰è£…Ubuntuæ¥ç†Ÿæ‚‰Linuxç³»ç»Ÿã€‚ æ ¡çº§è®¡ç®—äº‘å’Œå­¦é™¢è®¡ç®—äº‘æœ‰ä¸“é—¨çš„ITäººå‘˜å¸®ä½ è§£å†³å¦‚æœ¬é¡µæ‰€ç¤ºçš„å¤§éƒ¨åˆ†ITé—®é¢˜ã€‚ ä½ çš„æœºå™¨å¦‚æœæœ‰GPUï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ­¥éª¤è®©GPUå‘æŒ¥å®ƒçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œå…³é”®ç‚¹æ˜¯è®©GPUå‹å·ã€GPUé©±åŠ¨ã€CUDAç‰ˆæœ¬ã€Tensorflowæˆ–Pytorchç‰ˆæœ¬å½¼æ­¤åŒ¹é…ï¼Œä¸”å½¼æ­¤â€œç›¸è¿â€ã€‚ç™¾åº¦æˆ–è€…å¿…åº”ä¸Šæœ‰å¾ˆå¤šç›¸å…³èµ„æ–™å¯ä»¥ä½œä¸ºå‚è€ƒã€‚ æŸ¥çœ‹ç”µè„‘GPUå’Œé©±åŠ¨ï¼Œä»¥åŠæ”¯æŒçš„CUDAç‰ˆæœ¬ã€‚ æˆ–è€…åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼šnvidia-smiï¼ŒæŸ¥çœ‹ä½ çš„NVIDIAæ˜¾å¡é©±åŠ¨æ”¯æŒçš„CUDAç‰ˆæœ¬ã€‚ æŸ¥çœ‹å„ä¸ªTensorflowç‰ˆæœ¬ï¼ŒPytorchç‰ˆæœ¬å¯¹åº”çš„CUDAå’ŒcuDNN. ä¸‹è½½å¹¶å®‰è£…æ­£ç¡®ç‰ˆæœ¬çš„CUDAã€‚æ³¨å†Œã€ä¸‹è½½å¹¶å®‰è£…æ­£ç¡®ç‰ˆæœ¬çš„cuDNN é…ç½®CUDAå’ŒcuDNN. å®‰è£…Tensorflowæˆ–è€…Pytorch. "]]
